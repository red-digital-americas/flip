<app-nav [section]="section"></app-nav>
<div class="ml-col-1">
    <div class="ml-col-1 padding-general-m margin-bottom-g">
      <div class="ml-col-1">
        <div class="ap-cards">
          <div class="ml-col-1 margin-bottom-x">
            <h4 class="ap-form__titulo ap-form__titulo--header ap-form__titulo--auto-width">
              Alert
            </h4>
            <button style="float: right;"
              class="button button-x button-pink padding-lateral-m button-icon button-icon--add-white"
              (click)="toggleSectionForm( 'new' )">
              Agregar alerta
            </button>
          </div>
          <div class="ml-col-1 margin-top-m font-big color-red text-center" *ngIf="alerts?.length == 0">
            We don't have alert yet,
            <span class="text-underline cursor-pointer" (click)="toggleSectionForm( 'new' )">add one</span>.
          </div>
          <div class="ap-cards__container" *ngFor="let alert of alerts;">
            <div class="ap-cards__card ap-cards__card--bbuttons card-style">
              <h4 class="ap-cards__card-titulo text-bold">
                {{ alert.name }}
              </h4>
              <p class="ap-cards__card-desc">
                {{ alert.description }}
              </p>
              <figure class="ap-cards__card-image">
                <img src="{{ alert.icon }}" />
              </figure>
              <div class="ap-cards__card-buttons">
                <button 
                type="button"
                (click)="toggleSectionForm('delete', alert)"
                class="ap-cards__card-button button-red button-icon button-icon--delete-white">
                Eliminar
              </button>
              <button 
                type="button"
                (click)="toggleSectionForm( 'edit', alert )"
                class="ap-cards__card-button ap-cards__card-button--aceptar button-green button-icon button-icon--edit-white">
                Editar 
              </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
<div class="black-box">
  <img src="" id="image_real_dimension" />
</div>
<div class="ml-col-1  padding-general-m margin-bottom-g new-modal" *ngIf="show_post_form">
    <form class="ap-form ap-form--fixed margin-bottom-m ml-col-1 card-style" (submit)="sendAlertData();" onsubmit="return false;" name="post_form">
      <div class="ml-col-1">
        <h4 class="ap-form__titulo ap-form__titulo--header ap-form__titulo--auto-width">
          {{ post_form_action }}
         </h4>
         <button 
             class="ap-form__rButton button-red padding-lateral-m button-icon button-icon--cancel-white"
             (click)="toggleSectionForm()">
             Cerrar
         </button>
       </div>
      <div class="ml-col-7 margin-top-x">
        <div class="ml-col-1">
          <div class="ap-form__input">
            <input 
              required
              type="text" 
              placeholder="Titulo"
              id="new_post_title" 
              name="new_post_title"
              [(ngModel)]="data_post.name"
              [class.form_error_found]="forms_erros_found.no_title"
              class="ap-form__input-text" />
            <label 
              for="new_post_title" 
              class="ap-form__label ap-form__label-text"
              [class.ap-form__label-text--active]="data_post.name != ''">
              Titulo
            </label>
            <span class="form_error_found_label" *ngIf="forms_erros_found.no_title">
              Titulo se requiere*
            </span>
          </div>
        </div>
        <div class="ml-col-1">
          <div class="ap-form__input">
            <textarea 
              required
              id="new_post_desc"
              name="new_post_desc"
              placeholder="Descripción"
              [(ngModel)]="data_post.description"
              [class.form_error_found]="forms_erros_found.no_post"
              class="ap-form__label ap-form__input-textarea"></textarea>
            <label 
              for="new_post_desc" 
              class="ap-form__label ap-form__label-text"
              [class.ap-form__label-text--active]="data_post.description != ''">
              Descripción
            </label>
            <span class="form_error_found_label" *ngIf="forms_erros_found.no_post">
                Descripción se requiere*
            </span>
          </div>
        </div>
      </div>
      <div class="ml-col-3o">
        <div class="ap-form__input">
          <input
            required
            class="ap-form__input-image display-none" 
            id="nueva_comunidad_img"
            name="nueva_comunidad_img"
            type="file"
            accept="image/*"
            (change)="validateImageUpload( $event, 'new_post_image_0', 'new_post_name_0' );" />
          <label for="nueva_comunidad_img" class="ap-form__label-image">
            <figure class="ap-form__image">
              <img class="ap-form__image-image no-image" 
                   id="new_post_image_0"
                   [class.forms_errors_nimage]="forms_erros_found.no_photo"
                   src="{{ data_post.icon }}" />
                   <span class="ap-form__image-data text-center" id="new_post_name_0">
                     <br />
                     <span class="text-bold"></span>
                   </span>
              <span class="ml-col-1 form_error_found_label text-center" *ngIf="forms_erros_found.no_photo">
                Icon se requiere*
              </span>
            </figure>
          </label>
        </div>
      </div>
      <div class="ml-col-1 ap-form__buttons margin-top-x">
        <button 
          type="submit"
          class="ap-form__buttons-button button-icon button-icon--add-white ap-form__buttons-button--no-margin ap-form__buttons-button--big button-black">
          Guardar
        </button>
      </div>
    </form>
</div>

<div class="ml-modal ml-modal--bg-black" *ngIf="page_modal">
    <div class="ml-modal__pop" *ngIf="modal_to_show == 'default'">
      <p class="ml-modal__pop-titulo margin-bottom-m">
        Eliminar alert
      </p>
      <p class="ml-modal__pop-text">
        ¿Estás seguro de eliminar uk-alert <br />
        <span class="text-bold">"{{ data_post.name }}"</span>?
      </p>
      <div class="ml-modal__pop-buttons">
        <button 
          (click)="toggleSectionForm('delete')"
          class="ml-modal__pop-buttons-button button-pink button-icon button-icon--cancel-white">
          Cancelar
        </button>
        <button 
          (click)="confirmDeleteElement()"
          class="ml-modal__pop-buttons-button button-black button-icon button-icon--delete-white">
          Eliminar
        </button>
      </div>
    </div>
  </div>
